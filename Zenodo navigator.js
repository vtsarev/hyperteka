var httpB2 = new XMLHttpRequest();var t = document.body.querySelectorAll("a.filename");for (var i = 0; i < t.length; i++) {t[i].href = t[i].href.replace(/(.+)\?download=1/,"$1");t[i].setAttribute("onclick", "event.preventDefault();openhtml2(event)");}httpB2.onreadystatechange = function() {if((httpB2.readyState == 4) && (httpB2.status == 200)) {var resp2 = httpB2.responseText;var ht = resp2.replace(/<pre.*?>((?:.|\n)+)<\/pre>/m,"$1");var w1 = window.open("","_blank");w1.document.body.innerHTML = ht;}};function openhtml2(event) {event.preventDefault();event.stopPropagation();var inphash = event.target.nextElementSibling;var h = event.target.href;var s = h.split(".").pop().toLowerCase();switch(s) {case "html": case "htm":httpB2.open("GET", h, true);httpB2.setRequestHeader("Content-Type", "text/html");httpB2.send();break;case "mp4":var w2 = window.open("","_blank");w2.document.body.innerHTML='<video controls src="'+h+'">Your browser does not support the video tag.</video>';}};